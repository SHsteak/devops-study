# Default values for argocd-deploy.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

nameOverride: ""
fullnameOverride: ""

global:
  repoURL: "https://github.com/choshsh/devops-study.git"
  # branch switch - prod/dev
  targetRevision: HEAD
  server: "https://kubernetes.default.svc"

argocd:
  # istio-config
  - name: istio-config
    namespace: default
    source:
      path: manifest/istio-config
      type: dir
      directory: true
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
  # jenkins
  - name: jenkins
    namespace: jenkins
    source:
      path: manifest/jenkins
    syncPolicy:
      automated:
        prune: false
        selfHeal: false
  # nfs-subdir-external-provisioner
  - name: nfs-subdir-external-provisioner
    namespace: default
    source:
      path: manifest/nfs-subdir-external-provisioner
      type: helm
      helm:
        valueFiles:
          - values-choshsh.yaml
    syncPolicy:
      automated:
        prune: false
        selfHeal: false
  # itsm-db
  - name: choshsh-db
    namespace: default
    source:
      path: manifest/itsm
      type: dir
    syncPolicy:
      automated:
        prune: false
        selfHeal: false
  # choshsh-ui
  - name: choshsh-ui
    namespace: default
    source:
      path: manifest/was
      type: helm
      helm:
        valueFiles:
          - values-choshsh-ui.yaml
    syncPolicy:
      automated:
        prune: false
        selfHeal: false
  # loki-network
  - name: loki-network
    namespace: monitoring
    source:
      path: manifest/loki-stack/network
      type: dir
    syncPolicy:
      automated:
        prune: false
        selfHeal: false
